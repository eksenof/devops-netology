
# ДЗ к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ
- полная виртуализация: гипервизор не требует ОС, устанавливается прямо на железо, немного медленнее програмной, полное разделение ресурсов железа.
- паравиртуализация: гипервизор ставится на ОС, модифицирует ядро гостевых ОС, подходит для гостевых ОС с открытым кодом или 
   связки гипервизор-гостевая ОС с уже модифицированным ядром (например, одного вендора). Основная ОС может быть очень урезанная,
   работает более эффективно чем виртуализация на основе ОС
- виртуализация на основе ОС: отдельного гипервизора нет, но не позволяет запускать ВМ с ядрами отличными от ядра основной ОС. Легкость настройки и создания ВМ.
   Неполное разделение ресурсов, загрузка одной ВМ может сказаться на других. Гостевая ОС становится как бы "приложением" для основной ОС.

## Задача 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.


### Ответ

 - высоконагруженная база данных - полная аппаратная виртуализация, тк высокая нагрузка и необходимо хорошее разделение физических ресурсов машины
 - различные web-приложения - паравиртуализация или уровня ОС, много разных машин с небольшой нагрузкой, легкость развертки.
 - Windows системы для использования бухгалтерским отделом - виртуализация уровня ОС, нагрузки нет, легко развернуть, все одинаковые Windows.
 - системы, выполняющие высопроизводительные расчеты на GPU - полная аппаратная виртуализация, тк высокая нагрузка и необходимо хорошее отделение физических ресурсов машины
 
## Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:
- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
- Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
- Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ
Сценарии:

- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований.
   Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки,
   репликации данных и автоматизированного механизма создания резервных копий.
   
   Разные гостевые ОС. Паравиртуализация, можно использовать дополнительные инструменты, установленные на ОС для балансировки и тд. Hyper-V
   
- Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов)
   инфраструктуры на базе Linux и Windows виртуальных машин.
  
   Бесплатное и разные ОС, open source - Xen PV - дружит с виндой, хорошая производительность и стабильность
  
- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

   бесплатное, винда, нет требования open source - VMWare ESXi - изначально виндовое решение

- Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

   несколько Линукс + тестирование - KVM, нативно для линцукс, каждая гостевая машина - процесс на хостовой, что хорошо для тестирования и обнаружения источника проблемы

## Задача 4
 Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
 
### Ответ
  
   - в гомогенной среде проще состыковать машины, их перемещение, бэкапирование, управление ресурсами, кластеризацию, одно место управления, меньше требований к квалификации обслуживающего персонала.
   Подходит для создания структуры "с нуля", либо полном обновлении, когда есть деньги, время, план и расписано структурно, примерно одинаковые задачи машин
   и они из одного семейства (ОСи, железо - нет супер старого или зоопарка).
   
   - в гетерогенной можно использовать сильные стороны разных типов виртуализации и гипервизоров для разных задач: например, отделить песочницы от продакшена;
   машины, требующие высокой доступности и аптайма от пользовательских машин и тд. Бывают "исторически сложившиеся" системы, где при апгрейде можно обновить лишь часть системы,
   ограничение в деньгах, гостевых ОС или железе, бывают требования заказчика или совместимости. На моём опыте обычно такая "солянка" из систем и решений встречается чаще всего
   
   - для минимизации рисков и проблем нужно заранее составить схемы-планы итоговой структуры, рассмотреть все "особенности", оставить возможность расширения в дальнейшем,
   согласовать со специалистами (возможно с техподдержкой вендоров), соседними отделами и написать нормально ТЗ, если это аутсорс. обучить сотрудников и сделать нормальные инструкции,
   максимально автоматизировать-заскриптовать рутину и обрезать права всем, кому можно.
   
   - Создала бы я такую среду? - сложно сказать. если я могу её контролировать - то всё равно на чем работать, в гетерогенной есть свои плюшки, я смогу её настроить и контролировать.
   Если вариант: сделать - сдать и будет обслуживать кто-то другой (например, инсталляция для заказчика с его сервисом) - скорее нет (если там приходящий админ на полставки и толпа юзеров).
   если же это айтишная компания со сложной структурой и хорошими спецами - то в зависимости от задач и денег.
 
